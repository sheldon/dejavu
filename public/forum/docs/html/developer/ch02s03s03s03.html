<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2.3.3.3. Multiple file modules</title><link rel="stylesheet" href="../phorum_docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="Phorum Developer Reference Manual"><link rel="up" href="ch02s03s03.html" title="2.3.3. Module file structure"><link rel="prev" href="ch02s03s03s02.html" title="2.3.3.2. Single file modules"><link rel="next" href="ch02s03s04.html" title="2.3.4. Supporting multiple languages"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03s03s02.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch02s03s04.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="modules.multifile"></a>2.3.3.3. Multiple file modules</h4></div></div></div><p>
            These modules are useful in case you need additional files
            to be stored with your module, for example a settings screen,
            language files or custom images.
          </p><p>
            They are stored in their own subdirectory below
            the directory <code class="filename">{phorum dir}/mods/</code>.
            If you have a module named "foo", you will have to create a
            directory <code class="filename">{phorum dir}/mods/foo/</code> for storing
            all module files.
          </p><p>
            Inside this subdirectory, you will have to create a least
            two files:
            </p><div class="itemizedlist"><ul type="disc"><li>
                A file called <code class="filename">info.txt</code>.
                This file contains the module information for your module
                (see <a class="xref" href="ch02s03s02.html" title="2.3.2. Module information">Section 2.3.2, &#8220;Module information&#8221;</a>).
              </li><li>
                The PHP file which contains the hook function definitions
                for your module. The basename of this file should be the
                same as the name of the module subdirectory. So for our
                example module "foo", you will have to create a file named
                <code class="filename">foo.php</code>.
              </li></ul></div><p>
          </p><p>
            Using the example module info from
            <a class="xref" href="ch02s03s02.html#example.moduleinfo" title="Example 2.1. Module information">Example 2.1, &#8220;Module information&#8221;</a>, the complete multiple
            file module would look like this (see XXX why we use the
            check on PHORUM at the start of the PHP file):
            </p><div class="example"><a name="example.multifilemodule"></a><p class="title"><b>Example 2.3. Multi file module</b></p><div class="example-contents"><pre class="programlisting">
<code class="filename">{phorum dir}/mods/foo/info.txt</code>
title: Foo
desc: This is the Foo module for Phorum. Nothing exciting...
version: 1.0.2
release_date: Jan 1st, 2008
url: http://www.phorum.org
author: John Doe &lt;johndoe@example.com&gt;
require_version: 5.2.2
category: user_features

hook: some_hook|phorum_mod_foo_some_hook
hook: some_other_hook|phorum_mod_foo_some_other_hook
hook: yet_another_hook|phorum_mod_foo_some_other_hook

priority: run some_hook before some_other_module</pre><pre class="programlisting">
<code class="filename">{phorum dir}/mods/foo/foo.php</code>
&lt;?php

if(!defined("PHORUM")) return;

function phorum_mod_foo_some_hook ($data) {
    // Do stuff for "some_hook".
    return $data;
}

function phorum_mod_foo_some_other_hook ($data) {
    // Do stuff for "some_other_hook" and "yet_another_hook".
    return $data;
}

?&gt;</pre></div></div><p><br class="example-break">

            So far, the module has exactly same functionality as the single
            file module from <a class="xref" href="ch02s03s03s02.html" title="2.3.3.2. Single file modules">Section 2.3.3.2, &#8220;Single file modules&#8221;</a>.
            From here on, the functionality can be extended. Some of the
            possibilities are:
            </p><div class="itemizedlist"><ul type="disc"><li>
                Adding custom files to your module tree
                (images, classes, libs, etc.);
              </li><li><a class="xref" href="ch02s03s04.html" title="2.3.4. Supporting multiple languages">Letting your module support multiple languages</a>;
              </li><li><a class="xref" href="ch02s03s07.html" title="2.3.7. Implementing a settings screen for your module">Implementing a settings screen for your module</a>;
              </li><li>
                Adding template files for your module;
                (See XXX about module template files)
              </li></ul></div><p>
          </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03s03s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02s03s03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s03s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
